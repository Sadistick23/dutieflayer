{
  "name": "dutie",
  "version": "1.2.0",
  "description": "Create scheduling task managers to perform tasks with prerequisites and priorities",
  "main": "index.js",
  "scripts": {},
  "repository": {
    "type": "git",
    "url": "git://github.com/demipixel/dutie.git"
  },
  "license": "MIT",
  "dependencies": {},
  "devDependencies": {},
  "bugs": {
    "url": "https://github.com/demipixel/dutie/issues"
  },
  "homepage": "https://github.com/demipixel/dutie",
  "keywords": [
    "dutie",
    "priority",
    "schedule",
    "manager",
    "task"
  ],
  "author": {
    "name": "Lucas Simon",
    "email": "luke5227@gmail.com"
  },
  "readme": "# dutie\nTask Scheduling for Node.js!\n\n# Installing\n```\nnpm install dutie // Some day, but this doesn't actually work yet\n```\n\n# Task Manager\n\nNOT BEFORE YOU START USING THIS:\n\nALL PARAMATERS MUST BE OBJECTS. IF IT IS A NUMBER, DO SOMETHING LIKE { num: 2 } TO CONTAIN 2. I apologize for the inconvenience. If you know of another way for Arrays to contain pointers for primitives, please notify me :)\n\n```js\nvar Dutie = require('dutie');\n```\n## Variables\n### Dutie.tasks\nArray of tasks waiting to be called.\nThis sorts itself by priority when choosing next task. Don't expect it to be sorted any other time.\n\n### Dutie.currentTask\nCurrent Task object that is running.\n\n## Methods\n### Dutie.init()\nJust calls Dutie.update() which will recognize it has no task and needs to get one.\nIt's pretty much just for the looks.\n\n### Dutie.add(Task)\nAdd the task to Dutie.tasks\nWill checkAll to see if there are any changes or if the current one needs to be cancelled.\n\nThis returns itself so you can do Manager.add(TaskA).add(TaskB).add(TaskC);\n\n### Dutie.addAll(Task)\nWill make sure that each task that Task depends or is depended on will get added. Each of those will make sure theirs will get added.\nSee Example Shortcuts for examples.\n\n### Dutie.update()\nUpdate the current task. This will run anything in it's update method. If the update method return true, is will finish the task and try and get the next one.\nIf finishing, will pass false to the cancel paramater in the finish method.\n\n### Dutie.finish()\nForce-finishes the task but still calls the task's Finish method. Bypasses whatever decision update() would have made.\nIt will then decide what task is next.\nWill pass \"true\" to the cancel paramater in the finish method.\n\n### Dutie.cancel()\nCalls the Task.finish(true), then adds it back to the list.\nWARNING: This will leave currentTask as null unless you do something about it!\nYou're probably not gonna use this one since we take care of priority canceling.\n\n### Dutie.endTask()\nMurder the current task. Guillotine it and don't call its finish. Still replaces itself.\nI don't recommend killing your fellow tasks. Just use finish even if you don't have a finish method.\n\n### Dutie.checkAll()\nCalls Task.check() on every task. This COULD change the current task if a Task.check() passes true and has a higher priority than the current Task!\nEvery task is checked when deciding the next Task, so don't worry about it if you don't have to.\n\n\n# Tasks\n```js\nvar Task = Dutie.Task\n```\n### Task.depend\nAn array of Tasks it depends on to finish. Tasks will be removed from the list if they have finished/failed/ended\nThe Task cannot execute until this array is empty.\n\n### TaskA.dependOn(TaskB)\nWill push TaskB to TaskA.depend\n\n### TaskA.dependBy(TaskB)\nTaskB will depend on TaskA\n\n### Task.addTo(Manager)\nDoes the exact same as Dutie.add except it adds itself to the specified Manager\n\n### Task.addAllTo(Manager)\nWill make sure that each task that Task depends or is depended on will get added. Each of those will make sure theirs will get added. It continues on. None will get added twice.\nSee Example Shortcuts for examples.\n\n### Task.update()\nUpdate method that you pass. Change if you must... or just write a better update method that you don't have to change.\nThe update method gets called whenever you wants to. It allows you to complete your action or return true to end it.\n\n### Task.updateParams\nArray of params to be called with each update. This is why you do Dutie.update() instead of Task.update().\nSilly goose.\n\n### Task.finish\nWhen a task finishes (if you weren't silly enough to use Dutie.endTask()) this method will be called.\n**IMPORTANT:** The \"cancel\" paramater comes before any of your custom paramaters. This means if you have:\n[a, b, c] in your finishParams, it will call Task.finish(cancel, a, b, c). Thank you for your time :)\n\n### Task.finishParams\nSame as Task.updateParams but for finish. Remember that important note in Task.finish.\n\n### Task.check\nMethod that is run to check if you can execute the task.\nThis is if you want to depend on something that is not a task.\nIf you want to be able to execute the task, return true.\n\n### Task.checkParams\nArray of paramaters passed to Task.check.\n\n### Task.start\nFunction that gets called immediately when the task begins. Return true to finish immediately (useful for \"prerequisites\")\n\n### Task.startParams\nArray of paramaters passed to Task.start.\n\n### Task.cancel\nCalls with finish except only if the task was cancelled.\n\n### Task.cancelParams\nArray of paramaters passed to Task.cancel.\n\n### Task.complete\nCalls with finish except only if the task was succesful.\n\n### Task.completeParams\nArray of paramaters passed to Task.cancel.\n\n### new Task(update, updateParam, options)\nCongrats! You've created your new Task object! But what do you put in it?\n\n#### update\nThis is your update method! Put in here what you'd like to do during your task. Once your task is complete, return true!\n\n#### updateParam\nYour update is going to be called with these paramaters, just for you. Make them count!\nJust in case you're wondering: this is an array.\n\n#### priority\nExplained in other places. Prioritises which task should be executed first.\n\n#### actPriority\nAlso explained it other places. How much priority it has while executing.\n\n#### Options\nAlright, you've made it this far. What are the options?\n\n - priority: Default is 0. Think of this as \"How important is it that the task starts?\"\n - actPriority: Defaults to priority. Think of this as \"How important is it that the task finishes (after starting)\"\n - finish: Method that gets called when your task is finished with a bool if it canceled or not and finishParams\n   - Ex: ```finish(cancel_bool, finishParam_0, finishParam_1)```\n - finishParams: Array of paramaters passed to finish\n - check: See Task.check. This is a function\n - checkParams: Array of paramaters passed to check\n - start: See Task.start.\n - startParams: Array of paramaters passed to start\n - cancel: See Task.cancel\n - cancelParams: Array of paramaters passed to cancel\n - complete: See Task.complete\n - completeParams: Array of paramaters passed to complete\n \n\n## CallTask\n```js\nvar CallTask = Dutie.CallTask\n```\n\nCallTasks are built for callbacks rather than updates. This means your call function is now the method you wish to pass the callback with.\nThe callback is automatically put at the end of the paramaters or at Task.location as set when created in the options.\n\nYour \"start\" method is called before the call function is request. Use this in to make sure you want to send the request!\n\n### new CallTask(call, callParams, options)\nVery similar to new Task() except you are passing start and startParams now.\nSince the default Task.location is the end of startParam, you'll most likely have on less paramater on the end.\n\nExample:\n```js\nfunction add(a, b, callback) {\n\tcallback(a + b);\n}\n\nManager.add(new CallTask(add, [1, 3], { complete: console.log })); // Task's callback is automatically added to end\n// Should output 4\n```\n\n### Options\nCallTask includes all of the original options in Task plus:\n - location: Location of callback (will replace startParams position). \n - update: Update function as in Task. You probably won't need this since that would be two ways to end the Task.\n - updateParams: Array of paramaters passed to update\n\n\n\n# Example Task\nThere is an example task.js provided in addition to the following:\n\nLet's say you have a Minecraft bot that needs to mine ore and then go home but then runs into a zombie!\n```js\nvar Dutie = require('dutie');\nvar Task = Dutie.Task;\n\nvar Manager = new Dutie();\n\nvar mine = new Task(mineOreFunction, [], { priority: 3, actPriority: 6, finish: function(bot) {\n\tbot.stopMining();\n\tbot.navigate.stop();\n}, finishParam: [bot]}); // Mine ore task\nvar home = new Task(goHomeFunction, [true], { priority: 4, actPriority: 8}); // Go home task, passing \"true\" paramater as an example\nhome.dependOn(mine); // Bot cannot go home until it finishes mining (or mining fails / ends)\n\nManager.add(mine).add(home);\n\n/////////////// / / /\n/// Somewhere else\n/////////////// / / /\n\nvar zombie = new Task(killZombieFunction, [], { priority: 20, actPriority: 20});\nManager.add(zombie); // Will now cancel the mine task, adding it back into the line, and make zombie the current (since it has a higher priority then mine's actPriority)\n\n/////////////// / / /  /   /   /\n/// Somewhere else... again...\n/////////////// / / /  /   /   /\n\n// Let's sleep when we get home\n// We don't know if there's a home task or not though (or we don't remember which one)\n// Instead, we give a \"check\" with makes it dependent on something other than a task.\n\nvar sleep = new Task(goToSleep, ['home'], { priority: 3, actPriority: 3, check: function(bot) {\n\tif (bot.position.atHome()) return true;\n\treturn false;\n}, checkParams: [bot]});\nManager.add(sleep);\n\nManager.checkAll(); // This is automatically called at the end of a task, at a cancel, etc, but feel free to call it yourself if you need to\n// Returns false because not at home.\n\n// Even if it does return true, it needs to have a higher priority than actPriority to overtake\n// Or it needs the highest priority in the list at the end of a task.\n```\n\n# Example CallTask and RunTask\nSee the examples folder for some basic uses of these. Both can use most of the functionality as the task example.\n\n# Example Shortcuts\n```js\nvar m = some manager;\nvar task = some task;\nvar task_two = some other task;\nvar task_three = some last task;\n\nm.add(task).add(task_two).add(task_three);\n\ntask.addTo(m);\n\ntask.dependBy(task_two);\ntask_two.dependBy(task_three);\n\ntask.addAllTo(manager);\nmanager.addAll(task);\n\nmanager.addAll(task\n    .dependBy(task_two)\n    .dependBy(task_three)\n);\n\ntask_two.dependOn(task); // Think of as \"___ depends on ____\"\n// Same as\ntask.dependBy(task_two); // Think of as \"___ depended on by ____\"\n```",
  "readmeFilename": "README.md",
  "gitHead": "e6a8592f0f26b39bab52a49e78e5ee3a43ba3bb6",
  "_id": "dutie@1.2.0",
  "_shasum": "aa36bbb601addad1455d338b4afa76fab1140d39",
  "_from": "dutie@^1.0.0"
}
